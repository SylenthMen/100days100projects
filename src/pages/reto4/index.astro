---
import Layout from "../../layouts/Layout.astro";
---

<Layout>
  <article class="card">
    <h2>Traffic source types</h2>
    <div class="subtitle">Views Â· Last 28 days</div>
    <div class="content">
      <div class="chart-container">
        <abbr title="vista previa del trafico"><div class="chart"></div></abbr>
        <div class="chart-center">
          <span class="chart-label">Traffic sources</span>
        </div>
      </div>
      <div class="barras">
        <div class="barrita">
          <p>channel pages</p>
          <progress max="50" value="37.5"></progress>
          <p>37.5%</p>
        </div>
        <div class="barrita">
          <p>direct or unkown</p>
          <progress max="50" value="33.6"></progress>
          <p>33.6%</p>
        </div>
        <div class="barrita">
          <p>search</p>
          <progress max="30" value="11"></progress>
          <p>11%</p>
        </div>
        <div class="barrita">
          <p>external</p>
          <progress max="20" value="6"></progress>
          <p>6%</p>
        </div>
      </div>
    </div>
    <a href="#" class="see-more">See more</a>
  </article>
</Layout>

<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    background-image: linear-gradient(
      109.6deg,
      rgba(112, 246, 255, 0.33) 11.2%,
      rgba(221, 108, 241, 0.26) 42%,
      rgba(229, 106, 253, 0.71) 71.5%,
      rgba(123, 183, 253, 1) 100.2%
    );
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  .card {
    background-color: #fff;
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    width: 600px;
  }
  h2 {
    color: #333;
    margin-bottom: 10px;
    font-size: 24px;
    font-weight: bold;
  }

  .subtitle {
    color: #666;
    font-size: 14px;
    margin-bottom: 20px;
  }
  .content {
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    flex-wrap: wrap;
    align-items: center;
    gap: 10px;
  }
  .chart-container {
    width: 250px;
    height: 250px;
    position: relative;
  }
  .chart {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    transition: 0.5s easy-in-out;
    background: conic-gradient(
      #4285f4 0deg 0deg,
      white 0deg 2deg,
      #5a9cff 2deg 2deg,
      white 2deg 4deg,
      #185abc 4deg 4deg,
      white 4deg 6deg,
      #c9ddff 6deg 6deg,
      white 6deg 360deg
    );
    animation: fillChart 1.5s ease-out forwards;
  }

  @keyframes fillChart {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(-360deg);
      background: conic-gradient(
        #4285f4 0deg 133deg,
        white 133deg 135deg,
        #5a9cff 135deg 254deg,
        white 254deg 256deg,
        #185abc 256deg 293deg,
        white 293deg 295deg,
        #c9ddff 295deg 358deg,
        white 358deg 360deg
      );
    }
  }

  .chart-center {
    position: absolute;
    top: 15%;
    left: 15%;
    width: 70%;
    height: 70%;
    background-color: white;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  .chart-label {
    font-size: 16px;
    font-weight: bold;
  }

  progress {
    border: none;
    background-color: #fff;
  }

  progress::-webkit-progress-value {
    background-color: #428bca;
    border-radius: 10px;
    float: right;
  }

  progress::-webkit-progress-bar {
    background-color: transparent;
    border-radius: 10px;
  }

  .barras {
    display: flex;
    flex-direction: column;
    justify-content: center;
    width: 250px;
  }

  .barrita {
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    align-items: center;
    padding: 10px;
  }

  .barrita p {
    padding-left: 5px;
    padding-right: 5px;
  }

  .see-more {
    color: #4285f4;
    text-decoration: none;
    font-size: 14px;
    display: block;
    text-align: right;
    margin-top: 10px;
  }
</style>
